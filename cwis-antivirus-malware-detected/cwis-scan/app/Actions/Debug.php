<?php

namespace App\Actions;

use App\State;

class Debug extends BaseAction
{
    public function __invoke($params) {
      $op = $params['subaction'];


      switch($op) {
        case 'reset':

          $rst = $params['rst'];
          switch($rst) {
            case 'licence':

              if(is_file(State::resultsPath() . '/CWIS-LICENSE.dat')) {
                unlink(State::resultsPath() . '/CWIS-LICENSE.dat');
              }

            break;
            case 'results':
            break;
            case 'sitecheck':
            break;
            case 'settings':

              if(is_file(State::tempPath() . '/settings.php')) {
                unlink(State::tempPath() . '/settings.php');
              }

            break;
            case 'all':
            break;
            default:
              return [ 'success' => false ];
            break;
          }

        break;

        case 'register':
        break;

      }


      return [ 'success' => true, 'op' => $op ];
    }
}
